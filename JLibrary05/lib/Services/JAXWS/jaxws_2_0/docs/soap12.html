<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=us-ascii">
  <title>JAX-WS 2.0 ea3 -- SOAP 1.2</title>
  <link rel="stylesheet" type="text/css" href="style/default.css"/>

  <meta name="CREATED" content="20050329;17163443">
  <meta name="CHANGED" content="20050403;17063046">
</head>
<body dir="ltr" lang="en-US">
  <center>
  <h1>  Java<sup><font size="-2">TM</font></sup> API for XML Web Services<br />
      SOAP 1.2
  </h1>
  <b>Specification Version:</b> 2.0<br />
  <b>Reference Implementation (RI) Version:</b> 2.0 ea3<br />
  </center>
<hr>
<p>Last Modified: 12/14/2005<br>

</p>
<h2>Introduction</h2>
The default binding supported by JAXWS 2.0 is SOAP 1.1 over HTTP. With
this release we have added <span style="font-weight: bold;">SOAP 1.2
binding over HTTP</span> support into JAXWS 2.0. This document
describes how SOAP 1.2 binding can be applied to an endpoint and how it
can be used on the client side in the case of proxy port. To enable SOAP 1.2 support
in the <code>Dispatch</code> client please refer to the <code>Dispatch</code> documents.<br>
<h2>SOAP 1.2 Endpoint</h2>
To enable SOAP 1.2 binding on an endpoint. You would need to set
binding attribute value in <a
 href="jaxws-war.html#The_sun-jaxws.xml_File">sun-jaxws.xml</a> to SOAP
1.2 HTTP binding value as specified by
javax.xml.ws.soap.SOAPBinding.SOAP12HTTP_BINDING which is:
"http://www.w3.org/2003/05/soap/bindings/HTTP/".<br>
<br>
Here is the sun-jaxws.xml from fromjava-soap1.2 sample:<br>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br><br>&lt;endpoints xmlns='http://java.sun.com/xml/ns/jax-ws/ri/runtime' version='2.0'&gt;<br>  &lt;endpoint<br>    name='fromjava-soap12'<br>    implementation='fromjava_soap12.server.AddNumbersImpl'<br>    <span
 style="font-weight: bold;">binding="http://www.w3.org/2003/05/soap/bindings/HTTP/"</span>  <br>    url-pattern='/addnumbers'/&gt;<br>&lt;/endpoints&gt;<br></pre>
JAXWS 2.0 generates WSDL on the fly when requested by a client. If this
binding attribute is present and is equal to SOAP 1.2 HTTP binding WSDL
with SOAP 1.2 binding is generated. Based on this binding descriptor
jaxws runtime configures itself to handle SOAP 1.2 messages.<br>
<br>
The commandline <a href="wsgen.html">wsgen </a>and the equivalent ant
task can be used to generate SOAP 1.1 (default) or SOAP 1.2 WSDL. The
binding information should be passed using -wsdl:protocol switch.<br>
<h2>Client</h2>
On the client there is nothing special that has to be done. jaxws
runtime looks into the WSDL to determine the binding being used and
configures itself accordingly.&nbsp; <a href="wsimport.html">wsimport </a>command
line tool or wsimport ant task can be used to import the WSDL and to
generated the client side artifacts.<br>
<h2>Samples</h2>
There are 2 samples bundled with this release <br>
<ul>
  <li>fromwsdl-soap12 - shows SOAP 1.2 endpoint developed starting from
wsdl<br>
  </li>
  <li>fromjava-soap12 - shows SOAP 1.2 endpoint developed starting from
Java<br>
  </li>
</ul>
A SOAP 1.2 message generated by JAXWS:<br>
<pre>Content-Type: <span style="color: rgb(255, 0, 0);">application/soap+xml</span>; charset=utf-8<br>Content-Length: 178<br>SOAPAction: ""<br><br>&lt;soapenv:Envelope xmlns:soapenv="<span
 style="color: rgb(255, 0, 0);">http://www.w3.org/2003/05/soap-envelope</span>"&gt;<br>&nbsp;&nbsp;&nbsp; &lt;soapenv:Body&gt;<br><span
 style="color: rgb(0, 0, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;addNumbers xmlns="http://duke.org"&gt;</span><br
 style="color: rgb(0, 0, 153);"><span style="color: rgb(0, 0, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;arg0&gt;10&lt;/arg0&gt;</span><br
 style="color: rgb(0, 0, 153);"><span style="color: rgb(0, 0, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;arg1&gt;20&lt;/arg1&gt;</span><br
 style="color: rgb(0, 0, 153);"><span style="color: rgb(0, 0, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/addNumbers &gt;</span><br
 style="color: rgb(0, 0, 153);">&nbsp;&nbsp;&nbsp; &lt;/soapenv:Body&gt;<br>&lt;/soapenv:Envelope&gt;<br><br><br>A SOAP 1.2 Fault message generated by JAXWS:<br><br>Content-Type: <span
 style="color: rgb(204, 0, 0);">application/soap+xml</span>; charset=utf-8<br>Content-Length: 476<br>SOAPAction: ""<br><br>&lt;soapenv:Envelope xmlns:soapenv="<span
 style="color: rgb(204, 0, 0);">http://www.w3.org/2003/05/soap-envelope</span>"&gt;<br>    &lt;soapenv:Body&gt;<br>        &lt;<span
 style="font-weight: bold;">soapenv:Fault</span>&gt;<br>            &lt;<span
 style="font-weight: bold;">soapenv:Code</span>&gt;<br>                &lt;soapenv:Value&gt;<span
 style="color: rgb(51, 51, 153);">soapenv:Sender</span>&lt;/soapenv:Value&gt;<br>            &lt;/soapenv:Code&gt;<br>            &lt;<span
 style="font-weight: bold;">soapenv:Reason</span>&gt;<br>                &lt;<span
 style="font-weight: bold;">soapenv:Text</span> xml:lang="en"&gt;<span
 style="color: rgb(51, 0, 153);">Negative number cant be added!</span><span
 style="color: rgb(51, 0, 153);"></span>&lt;/soapenv:Text&gt;<br>            &lt;/soapenv:Reason&gt;<br>            &lt;<span
 style="font-weight: bold;">soapenv:Detail</span>&gt;<br>                <span
 style="color: rgb(51, 0, 153);">&lt;AddNumbersFault xmlns="http://duke.org"&gt;</span><br
 style="color: rgb(51, 0, 153);"><span style="color: rgb(51, 0, 153);">                    &lt;faultInfo&gt;Numbers: -10, 20&lt;/faultInfo&gt;</span><br
 style="color: rgb(51, 0, 153);"><span style="color: rgb(51, 0, 153);">                    &lt;message&gt;Negative number cant be added!&lt;/message&gt;</span><br
 style="color: rgb(51, 0, 153);"><span style="color: rgb(51, 0, 153);">                &lt;/AddNumbersFault &gt;</span><br>            &lt;/soapenv:Detail&gt;<br>        &lt;/soapenv:Fault&gt;<br>    &lt;/soapenv:Body&gt;<br>&lt;/soapenv:Envelope&gt;</pre>
<br>
<br>
</body>
</html>
